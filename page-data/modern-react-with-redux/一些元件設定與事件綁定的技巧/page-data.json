{"componentChunkName":"component---src-templates-blog-post-js","path":"/modern-react-with-redux/ä¸€äº›å…ƒä»¶è¨­å®šèˆ‡äº‹ä»¶ç¶å®šçš„æŠ€å·§/","result":{"data":{"site":{"siteMetadata":{"title":"Travel in Time.","author":"Zoe Yu"}},"markdownRemark":{"id":"3b449675-7e4e-5019-a64f-ce525e851a9b","excerpt":"ç¬¬å…­ç« è«‡åˆ° class component æœ‰ç”Ÿå‘½é€±æœŸï¼Œå³ç¹¼æ‰¿ å¯å€Ÿç”¨çš„æ–¹æ³•ï¼Œé™¤äº†  ä¹‹å¤–ï¼Œå…¶ä»–å¯ä»¥è‡ªè¡Œæ±ºå®šæ˜¯å¦è¦å¯¦ä½œï¼Œå°‡æœƒåœ¨æŸäº›ç‰¹å®šæ™‚æ©Ÿé»è¢« React è§¸ç™¼ã€‚ å› ç‚ºä¹‹å‰å·²ç¶“å¯«é Reactï¼šèªè­˜ç”Ÿå‘½é€±æœŸæ–¹æ³•åŠè§¸ç™¼æ™‚é–“é»ï¼Œé€™é‚Šæœƒå°±åŒæ¨£çš„éƒ¨åˆ†ç•¥éï¼Œä»¥ç´€éŒ„ CH6ã€CHâ€¦","html":"<p>ç¬¬å…­ç« è«‡åˆ° class component æœ‰ç”Ÿå‘½é€±æœŸï¼Œå³ç¹¼æ‰¿<code class=\"language-text\">React.Component</code> å¯å€Ÿç”¨çš„æ–¹æ³•ï¼Œé™¤äº† <code class=\"language-text\">render</code> ä¹‹å¤–ï¼Œå…¶ä»–å¯ä»¥è‡ªè¡Œæ±ºå®šæ˜¯å¦è¦å¯¦ä½œï¼Œå°‡æœƒåœ¨æŸäº›ç‰¹å®šæ™‚æ©Ÿé»è¢« React è§¸ç™¼ã€‚</p>\n<p>å› ç‚ºä¹‹å‰å·²ç¶“å¯«é <a href=\"../../Lidemy/React%20Lifecycle%EF%BC%9A%E8%AA%8D%E8%AD%98%E7%94%9F%E5%91%BD%E9%80%B1%E6%9C%9F%E6%96%B9%E6%B3%95%E5%8F%8A%E8%A7%B8%E7%99%BC%E6%99%82%E9%96%93%E9%BB%9E\">Reactï¼šèªè­˜ç”Ÿå‘½é€±æœŸæ–¹æ³•åŠè§¸ç™¼æ™‚é–“é»</a>ï¼Œé€™é‚Šæœƒå°±åŒæ¨£çš„éƒ¨åˆ†ç•¥éï¼Œä»¥ç´€éŒ„ CH6ã€CH7 ä¸­å­¸åˆ°çš„å¯¦ä½œçŸ¥è­˜ç‚ºä¸»ã€‚</p>\n<hr>\n<br>\n<h5 id=\"ä¸åœ¨-constructor-è¼‰å…¥è³‡æ–™\" style=\"position:relative;\">ä¸åœ¨ constructor è¼‰å…¥è³‡æ–™<a href=\"#%E4%B8%8D%E5%9C%A8-constructor-%E8%BC%89%E5%85%A5%E8%B3%87%E6%96%99\" aria-label=\"ä¸åœ¨ constructor è¼‰å…¥è³‡æ–™ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>åœ¨ä¸€é–‹å§‹ç·´ç¿’æ™‚ï¼Œå°‡ç²å–ç”¨æˆ¶åœ°ç†ä½ç½®çš„ç¨‹å¼ç¢¼å¯«åœ¨äº† contructor è£¡ï¼Œä½†æ›´å¥½çš„æ–¹å¼ï¼Œæ˜¯è®“é€™äº›ç²å¾—è³‡æ–™çš„æ“ä½œæ”¾åœ¨ <code class=\"language-text\">componentDidMount</code> çµ±ä¸€ç®¡ç†ï¼Œconstructor åªç”¨ä¾†è¨­ç½®åˆå§‹åŒ– stateã€‚</p>\n<ul>\n<li><code class=\"language-text\">componentDidMount</code> ç¬¬ä¸€æ¬¡æ¸²æŸ“åˆ°ç•«é¢ï¼Œè¨­å®šåˆå§‹ data</li>\n</ul>\n<p><img src=\"https://i.imgur.com/SRmgPlO.png\"></p>\n<hr>\n<br>\n<h5 id=\"åˆå§‹åŒ–ç‹€æ…‹çš„å¦ä¸€å¯«æ³•\" style=\"position:relative;\">åˆå§‹åŒ–ç‹€æ…‹çš„å¦ä¸€å¯«æ³•<a href=\"#%E5%88%9D%E5%A7%8B%E5%8C%96%E7%8B%80%E6%85%8B%E7%9A%84%E5%8F%A6%E4%B8%80%E5%AF%AB%E6%B3%95\" aria-label=\"åˆå§‹åŒ–ç‹€æ…‹çš„å¦ä¸€å¯«æ³• permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>state æ˜¯ä¸€å€‹ Javascript ç‰©ä»¶ï¼Œç‚º class component ç®¡ç†ç‹€æ…‹çš„åœ°æ–¹ï¼Œå‰é¢èªªéå› ç‚ºæ˜¯ç¹¼æ‰¿ï¼Œè¦å…ˆå¯¦ä½œ constructor ä¸¦å‘¼å« <code class=\"language-text\">super()</code> å¼•ç”¨çˆ¶é¡åˆ¥è¨­ç½®ï¼Œä¸ç„¶ç„¡æ³•ä½¿ç”¨ <code class=\"language-text\">this</code> è®Šæ•¸åŠåˆå§‹åŒ– <code class=\"language-text\">this.state</code>ï¼Œä¸éï¼Œå…¶å¯¦æœ‰å¦ä¸€ç¨®ç°¡å–®çš„æ–¹å¼å¯ä»¥è¨­å®š stateã€‚</p>\n<p><strong>å°±æ˜¯ç›´æ¥å¯«</strong></p>\n<p>ä¸éœ€è¦å¯« constructorï¼Œå»ç›¸ç•¶æ–¼åœ¨ constructor åˆå§‹åŒ– this.state</p>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">class</span><span class=\"mtk1\"> App </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> React.Component {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  state = { lat: </span><span class=\"mtk4\">null</span><span class=\"mtk1\">, errorMessage: </span><span class=\"mtk11\">&#39;&#39;</span><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  render() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk13\">&gt;</span><span class=\"mtk1\">Latitude:</span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>ç”¨ create react app å»ºç«‹ï¼Œå·²ç¶“å¼•ç”¨äº† <code class=\"language-text\">@babel/plugin-proposal-class-properties</code> å¥—ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é€™å€‹å¯«æ³•ï¼Œå› ç‚º babel è‡ªå‹•å¹«æˆ‘å€‘å¯¦ä½œ constructorï¼Œä¸å¿…å†è‡ªå·±å®šç¾©æ§‹é€ å‡½æ•¸ã€å‘¼å« super åŠè™•ç† props</p>\n<hr>\n<br>\n<h5 id=\"è¨­å®š-default-props\" style=\"position:relative;\">è¨­å®š default props<a href=\"#%E8%A8%AD%E5%AE%9A-default-props\" aria-label=\"è¨­å®š default props permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>æ‡‰è©²æ»¿å¸¸åœ¨ç¨‹å¼ç¢¼ä¸­çœ‹åˆ°é€™ç¨®å¯«æ³•</p>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk8\">className</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;loader&quot;</span><span class=\"mtk13\">&gt;</span><span class=\"mtk4\">{</span><span class=\"mtk1\">props.message || </span><span class=\"mtk11\">&#39;Loading...&#39;</span><span class=\"mtk4\">}</span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk13\">&gt;</span></span></span></code></pre>\n<p>èª²ç¨‹ä»‹ç´¹é™¤äº†ç”¨ <code class=\"language-text\">||</code> è¨­ç½®é è¨­å€¼ï¼ŒReact å…¶å¯¦æœ‰ç‚º component æä¾›ã€Œ<strong>defaultProps</strong>ã€å±¬æ€§ï¼Œèƒ½ä½¿ç”¨å®ƒä¾†ç‚º props æ·»åŠ é è¨­å€¼ã€‚</p>\n<p>ç•¶çˆ¶å…ƒä»¶å¦‚æœæ²’æœ‰å‚³å°æ‡‰çš„ props é€²ä¾†ï¼Œè‡ªå‹•å¸¶å…¥è¨­å®šé è¨­çš„å±¬æ€§å€¼ï¼Œä¸ç®¡æ˜¯ functional æˆ– class component éƒ½å¯ä»¥åŠ ä¸Šã€‚</p>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> Spinner = props </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk8\">className</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;loader&quot;</span><span class=\"mtk13\">&gt;</span><span class=\"mtk4\">{</span><span class=\"mtk1\">props.message</span><span class=\"mtk4\">}</span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Spinner.defaultProps = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  message: </span><span class=\"mtk11\">&#39;Loading...&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<hr>\n<br>\n<h5 id=\"è‡ªè¡Œè¨­å®š-renderbody\" style=\"position:relative;\">è‡ªè¡Œè¨­å®š renderbody<a href=\"#%E8%87%AA%E8%A1%8C%E8%A8%AD%E5%AE%9A-renderbody\" aria-label=\"è‡ªè¡Œè¨­å®š renderbody permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>ä¸æ˜¯ä»€éº¼æŠ€å·§ï¼Œåªæ˜¯å¢é€²ç¨‹å¼ç¢¼çš„å¯è®€æ€§ã€‚</p>\n<p>å‡è¨­ä»Šå¤©è¦æ¸²æŸ“çš„æ±è¥¿è¨­æœ‰å¤šé‡æ¢ä»¶ã€æˆ–åˆ¤æ–·å¤šï¼Œé€™ç¨®æƒ…æ³ä¸‹ä¸è¦æŠŠé‚è¼¯éƒ¨ä»½æ‘»åœ¨ return è£¡é¢ï¼Œå¯«æˆä¸€å€‹ functionï¼Œæ¸²æŸ“æ™‚å†å‘¼å«ã€‚</p>\n<p>èˆ‰ä¾‹ï¼Œæˆ‘æœ‰ä¸€æ®µ JSXï¼Œæ˜¯æ ¹æ“š page ä¾†æ±ºå®šé¡¯ç¤ºï¼Œä»¥å¾€ç¿’æ…£ç”¨ä¸‰å…ƒé‹ç®—å­æˆ– <code class=\"language-text\">&amp;&amp;</code> é€²è¡Œåˆ¤æ–·ï¼š</p>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// æŒ‰ç…§ currentTab.page çš„å€¼æ¸²æŸ“å°æ‡‰é é¢</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">Tabs</span><span class=\"mtk1\"> </span><span class=\"mtk8\">tabs</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">tabs</span><span class=\"mtk4\">}</span><span class=\"mtk1\"> </span><span class=\"mtk8\">index</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">currentTab.index</span><span class=\"mtk4\">}</span><span class=\"mtk1\"> </span><span class=\"mtk13\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk13\">&lt;&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">{</span><span class=\"mtk1\">currentTab.page === SERVICE_PAGE.CONTENT &amp;&amp; </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">ServiceContent</span><span class=\"mtk1\"> </span><span class=\"mtk13\">/&gt;</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">{</span><span class=\"mtk1\">currentTab.page === SERVICE_PAGE.RULES &amp;&amp; </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">Rules</span><span class=\"mtk1\"> </span><span class=\"mtk13\">/&gt;</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">{</span><span class=\"mtk1\">currentTab.page === SERVICE_PAGE.MY_PACKAGE &amp;&amp; </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">MyPackage</span><span class=\"mtk1\"> </span><span class=\"mtk13\">/&gt;</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk13\">&lt;/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">)</span></span></span></code></pre>\n<p>ä¸éï¼Œå…¶å¯¦èƒ½æ‹‰å‡ºä¾†å¯«æˆ functionï¼Œè®“ currentTab.page ä»¥åƒæ•¸å‚³å…¥ï¼Œè®“æ•´é«”é‚è¼¯æ‹‰å‡ºä¾†ï¼Œä¸æœƒéƒ½æ”¾åœ¨ return åˆ¤æ–·</p>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">renderContent = (page) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">switch</span><span class=\"mtk1\"> (page) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">case</span><span class=\"mtk1\"> SERVICE_PAGE.CONTENT:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">ServiceContent</span><span class=\"mtk1\"> </span><span class=\"mtk13\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">case</span><span class=\"mtk1\"> SERVICE_PAGE.RULES:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">Rules</span><span class=\"mtk1\"> </span><span class=\"mtk13\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">case</span><span class=\"mtk1\"> SERVICE_PAGE.MY_PACKAGE:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">MyPackage</span><span class=\"mtk1\"> </span><span class=\"mtk13\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">default</span><span class=\"mtk1\">: </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> </span><span class=\"mtk13\">&lt;&gt;&lt;/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// å¥½åƒæ¸…çˆ½è¨±å¤šï¼Ÿ</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">render() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">Tabs</span><span class=\"mtk1\"> </span><span class=\"mtk8\">tabs</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">tabs</span><span class=\"mtk4\">}</span><span class=\"mtk1\"> </span><span class=\"mtk8\">index</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">currentTab.index</span><span class=\"mtk4\">}</span><span class=\"mtk1\"> </span><span class=\"mtk13\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">{</span><span class=\"mtk1\">renderContent(currentTab.page)</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<hr>\n<br>\n<h5 id=\"ç•«é¢æ‡‰è©²ç”±-React-ä¾†æ§åˆ¶\" style=\"position:relative;\">ç•«é¢æ‡‰è©²ç”± React ä¾†æ§åˆ¶<a href=\"#%E7%95%AB%E9%9D%A2%E6%87%89%E8%A9%B2%E7%94%B1-React-%E4%BE%86%E6%8E%A7%E5%88%B6\" aria-label=\"ç•«é¢æ‡‰è©²ç”± React ä¾†æ§åˆ¶ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>åœ¨ React è£¡ï¼Œå…ƒä»¶æœ‰ controlled å’Œ uncontrolled å€åˆ¥ï¼Œå‰è€…é€é state ä¾†ä¿å­˜è³‡æ–™ã€åˆ©ç”¨ setState è¨­å®šå€¼ï¼Œå¾Œè€…å‰‡æ˜¯æ²’æœ‰ç¶å®š stateï¼Œåƒå‚³çµ±ä½œæ³•ç”± DOM æœ¬èº«è™•ç†ã€‚</p>\n<p>ä»¥ç¨‹å¼ç¢¼ç‚ºä¾‹ï¼Œinput å…ƒç´ å°±æ˜¯ uncontrolled çš„å…ƒä»¶</p>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">class</span><span class=\"mtk1\"> SearchBar </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> React.Component {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  render() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">form</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">label</span><span class=\"mtk13\">&gt;</span><span class=\"mtk1\">Search</span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">label</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">input</span><span class=\"mtk1\"> </span><span class=\"mtk8\">type</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;text&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk13\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">form</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>å®ƒçš„å€¼æ˜¯ç”± HTML å…ƒç´ å…§éƒ¨ç®¡ç†å’Œå­˜æ”¾ï¼Œç•¶ä»Šå¤©æˆ‘å€‘æƒ³åœ¨ React ä¸ŠçŸ¥é“ç¾åœ¨çš„ search value æ˜¯å¤šå°‘ï¼Œä¸å¾—ä¸é€éå…¶ä»–æ–¹å¼åˆ° DOM ä¸Šé¢æ‰¾å€¼ï¼Œå› ç‚ºä¸¦ä¸å­˜æ”¾åœ¨ React ä¸­ã€‚</p>\n<p><img src=\"https://i.imgur.com/vrzcY79.png\"></p>\n<p>uncontrolled çœ‹è‘—ç°¡å–®ï¼Œç„¶è€Œç•¶ä½ éœ€è¦æ§åˆ¶çš„ DOM æ•¸é‡ä¸€å¤šèµ·ä¾†ï¼Œæ‰‹å‹•æ“ä½œçš„é‡å°±è®Šå¾—ç¹é‡ï¼Œ è€Œ controlled component æ˜¯ç”±è³‡æ–™æœ¬èº«ä¾†æ›´å‹•ç•«é¢ï¼Œéµå¾ª Reactã€Œå–®å‘è³‡æ–™æµã€çš„åŸå‰‡ï¼Œæ‰€ä»¥æ‰éœ€è¦ä½¿ç”¨åˆ° stateï¼Œå› ç‚ºé€™é—œä¿‚äº†<strong>è³‡æ–™æ˜¯å¦ç”± React æ‰€æ§åˆ¶</strong>ã€‚</p>\n<hr>\n<p>è€Œè¦æ€éº¼è®“ input çš„å€¼è¢« React æ‰€ç®¡ç†ï¼Œå°±è¦é€²è¡Œäº‹ä»¶ç¶å®šä¾†ç›£è½ã€‚</p>\n<p>ä¸åŒäº‹ä»¶ï¼Œæœƒé€£çµä¸åŒçš„å±¬æ€§åç¨±ï¼Œåƒæ˜¯ onChangeã€onClickã€onSubmit ç­‰ç­‰ï¼Œå…¶å¯¦è·Ÿæˆ‘å€‘åŸæœ¬åœ¨å¯« HTML å…ƒç´ å¾ˆåƒï¼Œå°±æ˜¯è¦å…ƒç´ æœ¬èº«æ“æœ‰é€™å€‹äº‹ä»¶æ‰èƒ½è¨­å®šï¼Œåƒ div å°±ä¸æœƒæœ‰ submit äº‹ä»¶ã€‚</p>\n<p>ç›£è½ input çš„ onChange äº‹ä»¶ï¼Œå¾åƒæ•¸ event å¯ä»¥æ‹¿åˆ°ç”¨æˆ¶å‰›å‰›éµå…¥çš„æ–‡å­—ï¼ŒæŠŠå®ƒå­˜å…¥ stateï¼Œä¸¦è¨­å®š input æ°¸é é¡¯ç¤º state å…§çš„è³‡æ–™ï¼Œé€™æ¨£ä¸€ä¾†å°±å¯ä»¥åšåˆ°è³‡æ–™è¢« React æ‰€ç®¡ç†ã€‚</p>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">class</span><span class=\"mtk1\"> SearchBar </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> React.Component {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  state = { term: </span><span class=\"mtk11\">&#39;&#39;</span><span class=\"mtk1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  render() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">form</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">label</span><span class=\"mtk13\">&gt;</span><span class=\"mtk1\">Search</span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">label</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">input</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk8\">type</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;text&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk8\">value</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{this</span><span class=\"mtk1\">.state.term</span><span class=\"mtk4\">}</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// é¡¯ç¤º state çš„å€¼</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk8\">onChange</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">(e) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.setState({ term: e.target.value })</span><span class=\"mtk4\">}</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// è®Šå‹•å°±æ”¹ state</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">form</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<hr>\n<br>\n<h5 id=\"è™•ç†-class-component-ä¸­çš„-this-å•é¡Œ\" style=\"position:relative;\">è™•ç† class component ä¸­çš„ <code class=\"language-text\">this</code> å•é¡Œ<a href=\"#%E8%99%95%E7%90%86-class-component-%E4%B8%AD%E7%9A%84-this-%E5%95%8F%E9%A1%8C\" aria-label=\"è™•ç† class component ä¸­çš„ this å•é¡Œ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<p>äº‹ä»¶ç¶å®šæ™‚ï¼Œå¦‚æœæ“ä½œå¾ˆå¤šæœƒå°‡ callback function æ‹‰å‡ºä¾†å¯«ï¼Œé€šå¸¸åˆ†é…çµ¦äº‹ä»¶çš„å›èª¿å‡½å¼æœƒä»¥å‘½å on æˆ– handle é–‹é ­ï¼Œä¾‹å¦‚ <code class=\"language-text\">onInputChange</code> æˆ– <code class=\"language-text\">handleInputChange</code>ï¼Œå…¶å¯¦å°±è·ŸåŸç”Ÿ JS å¯«æ³•äº‹ä»¶ç¶å®šå¯«æ³•ä¸€æ¨£ã€‚</p>\n<p>ä½†æ˜¯ï¼Œå»é‡åˆ°ä»¥ä¸‹çš„å•é¡Œï¼Ÿ</p>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"html\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Cannot read property &#39;state&#39; of undefined</span></span></span></code></pre>\n<p>å ±éŒ¯äº†ï¼å•é¡Œå°±å‡ºåœ¨ this ä¸Šï¼Ÿ</p>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">class</span><span class=\"mtk1\"> SearchBar </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> React.Component {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  state = { term: </span><span class=\"mtk11\">&#39;&#39;</span><span class=\"mtk1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  onFormSubmit(e) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    e.preventDefault()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    console.log(</span><span class=\"mtk4\">this</span><span class=\"mtk1\">.state.term) </span><span class=\"mtk3\">// ğŸ”´ Cannot read property &#39;state&#39; of undefined</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  render() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">form</span><span class=\"mtk1\"> </span><span class=\"mtk8\">onSubmit</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{this</span><span class=\"mtk1\">.onFormSubmit</span><span class=\"mtk4\">}</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">label</span><span class=\"mtk13\">&gt;</span><span class=\"mtk1\">Search</span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">label</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">input</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk8\">type</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;text&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk8\">value</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{this</span><span class=\"mtk1\">.state.term</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk8\">onChange</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">(e) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.setState({ term: e.target.value })</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">form</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>åœ¨ onFormSubmit å‡½å¼è£¡é¢ç”¨åˆ°äº† <code class=\"language-text\">this</code>ï¼ŒåŸæœ¬æ˜¯æƒ³è¦å¼•ç”¨ searchBar é¡åˆ¥ï¼Œä½†é€™æ™‚çš„ <code class=\"language-text\">this.state</code> å°å‡ºä¾†å»æ˜¯ undefinedï¼Ÿ</p>\n<hr>\n<p>åœ¨<a href=\"../../%5B%E7%AD%86%E8%A8%98%5D%20%E5%85%8B%E6%9C%8D%20JS%20%E7%9A%84%E5%A5%87%E6%80%AA%E9%83%A8%E5%88%86/\">å…‹æœ JavaScript çš„å¥‡æ€ªéƒ¨åˆ†</a>ä¸­æœ‰æåˆ°ï¼Œ<code class=\"language-text\">this</code> çš„å€¼å–æ±ºæ–¼å‡½å¼ä½ç½®åŠå‡½å¼è¢«å‘¼å«çš„æ–¹å¼ï¼Œä¸€èˆ¬æƒ…æ³éƒ½æ˜¯æŒ‡å‘ windowï¼Œç•¶å‡½å¼æ˜¯é€£çµåˆ°ç‰©ä»¶çš„æ–¹æ³•æ™‚ï¼ˆå³<strong>ä½œç‚ºç‰©ä»¶çš„æ–¹æ³•è¢«å‘¼å«</strong>ï¼‰ï¼Œthis æ‰æœƒæŒ‡å‘ç‰©ä»¶æœ¬èº«ã€‚</p>\n<p>æœ‰ä¸‰ç¨®æ–¹å¼å¯ä»¥è§£æ±ºï¼š</p>\n<ol>\n<li>åœ¨ constructor è¨­å®šï¼Œä»¥ bind æ–¹æ³•ç¶å¥½ this çš„å€¼</li>\n</ol>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">class</span><span class=\"mtk1\"> SearchBar </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> React.Component {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">constructor</span><span class=\"mtk1\">(props) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">super</span><span class=\"mtk1\">(props)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.state = { term: </span><span class=\"mtk11\">&#39;&#39;</span><span class=\"mtk1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.onFormSubmit = </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.onFormSubmit.bind(</span><span class=\"mtk4\">this</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// âœ… it works!</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  onFormSubmit(e) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    e.preventDefault()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    console.log(</span><span class=\"mtk4\">this</span><span class=\"mtk1\">.state.term)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ol start=\"2\">\n<li>å¯«æˆç®­é ­å‡½å¼ï¼ˆES6 ä¹‹å¾Œçš„åŠŸèƒ½ï¼‰</li>\n</ol>\n<p>ä½¿ç”¨ç®­é ­å‡½å¼æœƒè‡ªå‹•å°‡ this çš„å€¼ç¢ºèªæŒ‡å‘</p>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">class</span><span class=\"mtk1\"> SearchBar </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> React.Component {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  state = { term: </span><span class=\"mtk11\">&#39;&#39;</span><span class=\"mtk1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  onFormSubmit = (e) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {  </span><span class=\"mtk3\">// âœ… this æŒ‡å‘ SearchBar</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    e.preventDefault()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    console.log(</span><span class=\"mtk4\">this</span><span class=\"mtk1\">.state.term)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ol start=\"3\">\n<li>åœ¨ callback function è£¡é¢ä½¿ç”¨ç®­é ­å‡½å¼</li>\n</ol>\n<pre class=\"grvsc-container visual-studio-dark\" data-language=\"javascript\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">class</span><span class=\"mtk1\"> SearchBar </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> React.Component {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  state = { term: </span><span class=\"mtk11\">&#39;&#39;</span><span class=\"mtk1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  onFormSubmit(e) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    e.preventDefault()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    console.log(</span><span class=\"mtk4\">this</span><span class=\"mtk1\">.state.term)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  render() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">return</span><span class=\"mtk1\"> ( </span><span class=\"mtk3\">// âœ… ç¢ºä¿ onFormSubmit çš„ this æŒ‡å‘ï¼Œä½œçˆ² this(SearchBar) è¢«å‘¼å«</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">form</span><span class=\"mtk1\"> </span><span class=\"mtk8\">onSubmit</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">(e) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.onFormSubmit(e)</span><span class=\"mtk4\">}</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">label</span><span class=\"mtk13\">&gt;</span><span class=\"mtk1\">Search</span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">label</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">&lt;</span><span class=\"mtk4\">input</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk8\">type</span><span class=\"mtk1\">=</span><span class=\"mtk11\">&quot;text&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk8\">value</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{this</span><span class=\"mtk1\">.state.term</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk8\">onChange</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">(e) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.setState({ term: e.target.value })</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk13\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk13\">&lt;/</span><span class=\"mtk4\">form</span><span class=\"mtk13\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>ä¸éç¬¬ä¸‰ç¨®å•é¡Œæ¯”è¼ƒå¤§ï¼Œæ¯æ¬¡æ¸²æŸ“ searchBar æ™‚éƒ½æœƒå‰µå»ºä¸åŒçš„ callback functionï¼Œå¦‚æœé€™å€‹ callback function æœƒä½œç‚º props å‚³å…¥æ›´ä¸‹å±¤çš„å…ƒä»¶ï¼Œå°±æœƒé€ æˆä¸å¿…è¦çš„é‡è¤‡æ¸²æŸ“ï¼Œå»ºè­°ç”¨ç¬¬äºŒç¨®æ–¹å¼ä¾†ç¶å®šï¼Œé¿å…æ•ˆèƒ½å•é¡Œã€‚</p>\n<hr>\n<blockquote>\n<p>åƒè€ƒè³‡æ–™</p>\n</blockquote>\n<ul>\n<li><a href=\"%5Bhttps://%5D(https://ithelp.ithome.com.tw/articles/10235204)\">[Day 09] React State &#x26; props</a></li>\n<li><a href=\"%5Bhttps://%5D(https://zhuanlan.zhihu.com/p/278449050)\">React äº‹ä»¶è™•ç†ä¸­çš„thisçš„æŒ‡å‘å•é¡Œ</a></li>\n<li><a href=\"https://zh-hans.reactjs.org/docs/handling-events.html\">React å®˜æ–¹æ–‡ä»¶ - äº‹ä»¶è™•ç†</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .visual-studio-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .visual-studio-dark .mtk4 { color: #569CD6; }\n  .visual-studio-dark .mtk1 { color: #D4D4D4; }\n  .visual-studio-dark .mtk11 { color: #CE9178; }\n  .visual-studio-dark .mtk13 { color: #808080; }\n  .visual-studio-dark .mtk8 { color: #9CDCFE; }\n  .visual-studio-dark .mtk3 { color: #6A9955; }\n  .visual-studio-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li><a href=\"/modern-react-with-redux/%E4%B8%80%E4%BA%9B%E5%85%83%E4%BB%B6%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BA%8B%E4%BB%B6%E7%B6%81%E5%AE%9A%E7%9A%84%E6%8A%80%E5%B7%A7/#%E4%B8%8D%E5%9C%A8-constructor-%E8%BC%89%E5%85%A5%E8%B3%87%E6%96%99\">ä¸åœ¨ constructor è¼‰å…¥è³‡æ–™</a></li>\n<li><a href=\"/modern-react-with-redux/%E4%B8%80%E4%BA%9B%E5%85%83%E4%BB%B6%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BA%8B%E4%BB%B6%E7%B6%81%E5%AE%9A%E7%9A%84%E6%8A%80%E5%B7%A7/#%E5%88%9D%E5%A7%8B%E5%8C%96%E7%8B%80%E6%85%8B%E7%9A%84%E5%8F%A6%E4%B8%80%E5%AF%AB%E6%B3%95\">åˆå§‹åŒ–ç‹€æ…‹çš„å¦ä¸€å¯«æ³•</a></li>\n<li><a href=\"/modern-react-with-redux/%E4%B8%80%E4%BA%9B%E5%85%83%E4%BB%B6%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BA%8B%E4%BB%B6%E7%B6%81%E5%AE%9A%E7%9A%84%E6%8A%80%E5%B7%A7/#%E8%A8%AD%E5%AE%9A-default-props\">è¨­å®š default props</a></li>\n<li><a href=\"/modern-react-with-redux/%E4%B8%80%E4%BA%9B%E5%85%83%E4%BB%B6%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BA%8B%E4%BB%B6%E7%B6%81%E5%AE%9A%E7%9A%84%E6%8A%80%E5%B7%A7/#%E8%87%AA%E8%A1%8C%E8%A8%AD%E5%AE%9A-renderbody\">è‡ªè¡Œè¨­å®š renderbody</a></li>\n<li><a href=\"/modern-react-with-redux/%E4%B8%80%E4%BA%9B%E5%85%83%E4%BB%B6%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BA%8B%E4%BB%B6%E7%B6%81%E5%AE%9A%E7%9A%84%E6%8A%80%E5%B7%A7/#%E7%95%AB%E9%9D%A2%E6%87%89%E8%A9%B2%E7%94%B1-react-%E4%BE%86%E6%8E%A7%E5%88%B6\">ç•«é¢æ‡‰è©²ç”± React ä¾†æ§åˆ¶</a></li>\n<li><a href=\"/modern-react-with-redux/%E4%B8%80%E4%BA%9B%E5%85%83%E4%BB%B6%E8%A8%AD%E5%AE%9A%E8%88%87%E4%BA%8B%E4%BB%B6%E7%B6%81%E5%AE%9A%E7%9A%84%E6%8A%80%E5%B7%A7/#%E8%99%95%E7%90%86-class-component-%E4%B8%AD%E7%9A%84-this-%E5%95%8F%E9%A1%8C\">è™•ç† class component ä¸­çš„ <code class=\"language-text\">this</code> å•é¡Œ</a></li>\n</ul>","frontmatter":{"title":"ä¸€äº› React å…ƒä»¶è¨­å®šèˆ‡äº‹ä»¶ç¶å®šçš„æŠ€å·§","type":"coding","date":"Jun 19, 2021","tags":["React","Udemy"],"category":"Modern React with Redux","log":"log","thumbnail":null}}},"pageContext":{"slug":"/modern-react-with-redux/ä¸€äº›å…ƒä»¶è¨­å®šèˆ‡äº‹ä»¶ç¶å®šçš„æŠ€å·§/","previous":{"fields":{"slug":"/modern-react-with-redux/Class Component å’Œ State System/"},"frontmatter":{"title":"Class Component å’Œ State System","tags":["React","Udemy"],"date":"2021-06-15","category":"Modern React with Redux","mark":null,"description":"ä½¿ç”¨ Class Component çš„ä¸åŒã€State çš„åˆå§‹åŒ–åŠæ›´æ–°","log":null}},"next":null}},"staticQueryHashes":["63159454"]}